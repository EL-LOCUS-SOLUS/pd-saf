#N canvas 577 43 573 702 10;
#X declare -lib else;
#X obj 306 6 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 305 5 pd;
#X obj 346 13 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 24 42 cnv 4 4 4 empty empty Room 0 28 2 18 #e0e0e0 #000000 0;
#X obj 77 42 cnv 4 4 4 empty empty Panning 0 28 2 18 #e0e0e0 #000000 0;
#X obj 459 13 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 479 13 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 465 28 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 516 13 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 503 28 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 4 5 cnv 15 301 42 empty empty saf.binaural~ 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 3 5 graph;
#X obj 3 545 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 117 551 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 3 641 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 2 582 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 451 60 declare -lib else;
#X text 120 590 1) float - ambisonics order;
#X text 120 607 2) float;
#X text 174 607 - number of inputs or multichannel (-m);
#X text 198 551 signal - Ambisonics signal (multichannel), f 44;
#X obj 4 465 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 112 471 cnv 17 3 55 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 146 470 float/signal;
#N canvas 581 515 785 515 other_messages 0;
#X text 12 10 sofafile <.sofa file>;
#X text 286 10 - Set .sofa file, f 80;
#X text 12 36 use_default_hrirs 0|1;
#X text 286 36 - On/Off the internal hrir \, default is 1, f 80;
#X text 286 59 - Set the decoding method \, use 1 for Least-squares (LS) \, 2 for LS with diffuse-field EQ \, 3 for Spatial Resampling (SPR) \, 4 for Time-Alignment (TA) \, and 5 for Magnitude LS (MagLS), f 80;
#X text 12 59 decmethod 1-5 (default 1);
#X text 12 99 max-rE 0|1;
#X text 286 104 - Enable/disable the max_rE weighting, f 80;
#X text 12 126 hrirpreproc 0|1;
#X text 286 131 - Set the HRIR pre-processing mode \, use 1 for no pre-processing \, 2 for diffuse-field EQ \, 3 for phase simplification \, and 4 for both EQ and phase simplification., f 80;
#X text 286 176 - Set the Ambisonic normalisation type \, use 1 for N3D \, 2 for SN3D \, and 3 for FuMa., f 80;
#X text 12 176 normtype (1-3);
#X text 286 210 - Set the Ambisonic normalisation type \, use 1 for N3D \, 2 for SN3D \, and 3 for FuMa., f 80;
#X text 12 210 normtype (1-3);
#X text 12 245 diffusematching 0|1;
#X text 286 245 - Set the diffuse-covariance constraint flag \, use 1 to enable and 0 to disable., f 80;
#X text 12 279 truncationeq (1-3);
#X text 286 279 - Set the truncation EQ flag \, use 1 to enable and 0 to disable., f 80;
#X text 12 308 rotation 0|1;
#X text 286 308 - Sets the flag to enable/disable (1 or 0) sound-field rotation, f 80;
#X text 286 334 - Sets the 'yaw' rotation angle \, in degrees, f 80;
#X text 12 334 yaw (0-360);
#X text 12 360 pitch (0-360);
#X text 286 360 - Sets the 'pitch' rotation angle \, in degrees, f 80;
#X text 12 383 roll (0-360);
#X text 286 383 - Sets the 'roll' rotation angle \, in degrees, f 80;
#X text 12 408 fyaw (0-360);
#X text 12 434 fpitch (0-360);
#X text 12 457 froll (0-360);
#X text 286 457 - Sets a flag as to whether to "flip" the sign of the current 'roll' angle, f 80;
#X text 286 434 - Sets a flag as to whether to "flip" the sign of the current 'pitch' angle, f 80;
#X text 286 408 - Sets a flag as to whether to "flip" the sign of the current 'yaw' angle, f 80;
#X restore 151 491 pd other_messages;
#X text 228 470 - source inputs (receives multichannel);
#N canvas 962 173 450 300 pos 0;
#X obj 32 263 outlet;
#X obj 37 19 loadbang;
#X obj 106 30 bng 16 250 50 0 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000;
#X msg 121 157 reload;
#X msg 125 199 rename 1 ovinho;
#X msg 34 65 source 1 4 4 2.5 \, rename 1 chocalho;
#X msg 63 86 source 2 4 1 2.5 \, rename 2 bass;
#X msg 80 107 source 3 1 4 2.5 \, rename 3 strings;
#X msg 97 130 source 4 1 1 2.5 \, rename 4 drums;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 1 0 7 0;
#X connect 1 0 8 0;
#X connect 2 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 7 0;
#X connect 2 0 8 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X restore 15 170 pd pos;
#X obj 281 68 cnv 10 40 5 empty empty Required\ for\ saf\ graphical\ objects! 0 0 2 12 #ffffff #ff0400 0;
#X text 14 151 Use the mouse!;
#X obj 15 437 s enc;
#X obj 208 435 s dec;
#X obj 15 205 ../Sources/saf.roompanning;
#X obj 292 209 snake~ in 4, f 22;
#X obj 292 168 else/player~ -loop band.wav 1;
#X obj 432 270 r dec;
#X obj 253 209 r enc;
#X obj 292 305 else/saf.binaural~ -m;
#X obj 292 354 dac~ 1;
#X obj 118 152 tgl 16 0 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 118 172 yzview \$1;
#X obj 361 354 else/saf.meter~ -width 6 -height 60 -frames 20 -inchs 2;
#X text 20 82 [saf.binarual~] is an ambisonic decoder (up to 10th order) with a built-in SOFA loader and head-tracking. Includes: Least-Squares (LS) \, spatial re-sampling (SPR \, virtual loudspeakers) \, time-alignment (TA) \, and magnitude least-squares (Mag-LS) decoding options., f 84;
#X obj 292 270 else/saf.roomsim~ -m 1;
#X obj 361 333 *~ 8;
#X connect 26 0 31 0;
#X connect 31 0 29 0;
#X connect 31 1 30 0;
#X connect 32 0 42 0;
#X connect 33 0 32 0;
#X connect 33 1 32 1;
#X connect 33 2 32 2;
#X connect 33 3 32 3;
#X connect 34 0 36 0;
#X connect 35 0 42 0;
#X connect 36 0 37 0;
#X connect 36 0 43 0;
#X connect 38 0 39 0;
#X connect 39 0 31 0;
#X connect 42 0 36 0;
#X connect 43 0 40 0;
