#N canvas 530 150 570 737 10;
#X declare -lib else;
#X obj 306 5 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 305 5 pd;
#X obj 346 13 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 24 42 cnv 4 4 4 empty empty Ambisonics 0 28 2 18 #e0e0e0 #000000 0;
#X obj 120 42 cnv 4 4 4 empty empty encoder~ 0 28 2 18 #e0e0e0 #000000 0;
#X obj 459 13 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 479 13 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 465 28 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 516 13 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 503 28 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 4 5 cnv 15 301 42 empty empty saf.encoder~ 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 4 5 graph;
#X obj 3 545 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 117 551 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 3 641 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 2 582 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#N canvas 659 591 524 302 POSITIONS 0;
#X obj 4 7 loadbang;
#X obj 4 249 outlet;
#X obj 4 56 int;
#X obj 4 78 + 1;
#X obj 4 100 % 360;
#X msg 4 213 source 1 \$1 0;
#X obj 295 7 loadbang;
#X obj 295 56 int;
#X obj 295 78 + 1;
#X obj 295 127 % 360;
#X msg 295 213 source 4 \$1 0;
#X obj 96 7 loadbang;
#X obj 96 56 int;
#X obj 96 78 + 1;
#X obj 96 120 % 360;
#X msg 96 213 source 2 \$1 0;
#X obj 192 7 loadbang;
#X obj 192 56 int;
#X obj 192 78 + 1;
#X obj 192 124 % 360;
#X msg 192 213 source 3 \$1 0;
#X obj 96 99 + 90;
#X obj 192 99 + 180;
#X obj 295 99 + 270;
#X obj 4 34 metro 40;
#X obj 96 34 metro 40;
#X obj 192 34 metro 40;
#X obj 295 34 metro 40;
#X text 52 248 source <source_index> <azimuth> <elevation>;
#X connect 0 0 24 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 27 0;
#X connect 7 0 8 0;
#X connect 8 0 7 1;
#X connect 8 0 23 0;
#X connect 9 0 10 0;
#X connect 10 0 1 0;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 13 0 12 1;
#X connect 13 0 21 0;
#X connect 14 0 15 0;
#X connect 15 0 1 0;
#X connect 16 0 26 0;
#X connect 17 0 18 0;
#X connect 18 0 17 1;
#X connect 18 0 22 0;
#X connect 19 0 20 0;
#X connect 20 0 1 0;
#X connect 21 0 14 0;
#X connect 22 0 19 0;
#X connect 23 0 9 0;
#X connect 24 0 2 0;
#X connect 25 0 12 0;
#X connect 26 0 17 0;
#X connect 27 0 7 0;
#X restore 15 198 pd POSITIONS;
#X obj 452 52 declare -lib else;
#X obj 265 346 else/saf.meter~ -width 8 -height 40 -frames 20 -inchs 8;
#X obj 258 390 else/out.mc~;
#X obj 15 231 else/saf.panning -plan_size 200 -sources_size 4 -fig_size 200;
#X floatatom 415 240 5 0 0 0 - - - 0;
#X obj 415 214 else/meter;
#X text 120 590 1) float - ambisonics order;
#X text 120 607 2) float;
#N canvas 447 518 450 300 audio_source 0;
#X obj 10 12 else/player~ else/vacuous.flac 1 1;
#X obj 89 33 else/player~ else/bubul.mp3 1 1;
#X obj 168 56 else/player~ else/violin.flac 1 1;
#X obj 247 81 else/player~ else/guitar.mp3 1 1;
#X obj 10 133 outlet~;
#X obj 10 112 snake~ in 4, f 40;
#X connect 0 0 5 0;
#X connect 1 0 5 1;
#X connect 2 0 5 2;
#X connect 3 0 5 3;
#X connect 5 0 4 0;
#X restore 258 211 pd audio_source;
#X text 174 607 - number of inputs or multichannel (-m);
#X obj 265 268 else/saf.meter~ -width 8 -height 40 -frames 20 -inchs 16;
#X text 198 551 signal - Ambisonics signal (multichannel), f 44;
#X obj 4 465 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 112 471 cnv 17 3 55 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 146 470 float/signal;
#N canvas 474 546 747 165 other_messages 0;
#X text 12 10 source <source_index> <azimuth> <elevation>;
#X text 286 10 - set position of input source;
#X text 12 28 postscaling 1|0, f 43;
#X text 12 91 solo <source_index> 1|0, f 43;
#X text 287 91 - on/off solo for input source;
#X text 288 31 - If on \, the output signals are scaled by 1/sqrt(nSources) to normalize the total energy when multiple sources are summed \, preventing clipping and maintaining consistent overall level. If off \, no scaling is applied and the summed output may increase in amplitude as more sources are added., f 75;
#X restore 151 491 pd other_messages;
#X text 228 470 - source inputs (receives multichannel);
#X obj 258 324 else/saf.decoder~ -m 8;
#X obj 15 436 s pos;
#X obj 221 211 r pos;
#X text 20 82 An Ambisonic encoder which includes room reflections. It is based on the image source method using a shoebox room model. It permits multiple sources \, and also multiple Ambisonic receivers up to 128 channels in total \, e.g. 32x first-order or 8x third-order receivers \, 2x 7th-order receivers \, or 1x 10th order receiver. The output receiver channels are stacked \, e.g. 1-4 channels are for the 1st first-order receiver \, 5-8 for the second etc, f 71;
#X obj 258 246 else/saf.roomsim~ 3 -m;
#X connect 16 0 20 0;
#X connect 20 0 35 0;
#X connect 22 0 21 0;
#X connect 25 0 38 0;
#X connect 34 0 19 0;
#X connect 34 0 18 0;
#X connect 36 0 38 0;
#X connect 38 0 27 0;
#X connect 38 0 34 0;
