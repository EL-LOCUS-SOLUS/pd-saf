#N canvas 669 149 570 645 10;
#X declare -lib else;
#X obj 306 6 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 305 5 pd;
#X obj 346 13 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 24 42 cnv 4 4 4 empty empty Ambisonics 0 28 2 18 #e0e0e0 #000000 0;
#X obj 120 42 cnv 4 4 4 empty empty encoder~ 0 28 2 18 #e0e0e0 #000000 0;
#X obj 459 13 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 479 13 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 465 28 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 516 13 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 503 28 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 4 5 cnv 15 301 42 empty empty saf.encoder~ 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 4 5 graph;
#X obj 3 489 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 117 495 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 3 585 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 2 526 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#N canvas 659 591 524 446 POSITIONS 0;
#X obj 4 7 loadbang;
#X obj 4 384 outlet;
#X obj 4 56 int;
#X obj 4 78 + 1;
#X obj 4 100 % 360;
#X msg 4 213 source 1 \$1 0;
#X obj 295 7 loadbang;
#X obj 295 56 int;
#X obj 295 78 + 1;
#X obj 295 127 % 360;
#X msg 295 213 source 4 \$1 0;
#X obj 96 7 loadbang;
#X obj 96 56 int;
#X obj 96 78 + 1;
#X obj 96 120 % 360;
#X msg 96 213 source 2 \$1 0;
#X obj 192 7 loadbang;
#X obj 192 56 int;
#X obj 192 78 + 1;
#X obj 192 124 % 360;
#X msg 192 213 source 3 \$1 0;
#X obj 96 99 + 90;
#X obj 192 99 + 180;
#X obj 295 99 + 270;
#X obj 4 34 metro 40;
#X obj 96 34 metro 40;
#X obj 192 34 metro 40;
#X obj 295 34 metro 40;
#X text 47 172 source <source_index> <azimuth> <elevation>;
#X msg 394 213 numspeakers 8;
#X obj 394 177 loadbang;
#X obj 4 334 spigot;
#X obj 227 315 loadbang;
#X msg 227 336 1;
#X obj 227 357 tgl 16 1 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 1 1;
#X connect 0 0 24 0;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 31 0;
#X connect 6 0 27 0;
#X connect 7 0 8 0;
#X connect 8 0 7 1;
#X connect 8 0 23 0;
#X connect 9 0 10 0;
#X connect 10 0 31 0;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 13 0 12 1;
#X connect 13 0 21 0;
#X connect 14 0 15 0;
#X connect 15 0 31 0;
#X connect 16 0 26 0;
#X connect 17 0 18 0;
#X connect 18 0 17 1;
#X connect 18 0 22 0;
#X connect 19 0 20 0;
#X connect 20 0 31 0;
#X connect 21 0 14 0;
#X connect 22 0 19 0;
#X connect 23 0 9 0;
#X connect 24 0 2 0;
#X connect 25 0 12 0;
#X connect 26 0 17 0;
#X connect 27 0 7 0;
#X connect 29 0 31 0;
#X connect 30 0 29 0;
#X connect 31 0 1 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 31 1;
#X restore 13 141 pd POSITIONS;
#X obj 452 52 declare -lib else;
#X obj 289 290 else/saf.meter~ -width 8 -height 40 -frames 20 -inchs 4;
#N canvas 447 518 450 300 audio_source 0;
#X obj 10 185 outlet~;
#X obj 9 88 snake~ in 4, f 22;
#X obj 9 39 else/player~ band.wav 1 -loop;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 282 160 pd audio_source;
#X text 175 529 - number of inputs or multichannel (-m);
#X obj 289 212 else/saf.meter~ -width 8 -height 40 -frames 20 -inchs 16;
#X text 198 495 signal - Ambisonics signal (multichannel), f 44;
#X obj 4 409 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 112 415 cnv 17 3 55 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 146 414 float/signal;
#N canvas 474 546 747 194 other_messages 0;
#X text 12 10 source <source_index> <azimuth> <elevation>;
#X text 286 10 - set position of input source;
#X text 12 28 postscaling 1|0, f 43;
#X text 12 91 solo <source_index> 1|0, f 43;
#X text 287 91 - on/off solo for input source;
#X text 288 31 - If on \, the output signals are scaled by 1/sqrt(nSources) to normalize the total energy when multiple sources are summed \, preventing clipping and maintaining consistent overall level. If off \, no scaling is applied and the summed output may increase in amplitude as more sources are added., f 75;
#X text 287 131 - Set the Ambisonic normalisation type for encoding \, use 1 for N3D \, 2 for SN3D \, and 3 for FuMa., f 75;
#X text 12 131 normtype (1-3), f 43;
#X restore 151 435 pd other_messages;
#X text 228 414 - source inputs (receives multichannel);
#X text 20 82 The [saf.encoder~] implements the Ambisonic encoder from the SPARTA VST3 plugins suite by Acoustics Lab at Aalto University \, Finland. It encodes up to 128 input channels into Ambisonic signals at specified directions \, creating a synthetic sound scene whose spatial resolution depends on the encoding order., f 71;
#X obj 282 190 else/saf.encoder~ -m 3;
#X text 121 529 1) float;
#X text 120 545 2) float - ambisonics order;
#X obj 13 380 s pos-enc;
#X obj 221 160 r pos-enc;
#X msg 422 237 binaural 1;
#X obj 206 381 s pos-dec;
#X obj 221 247 r pos-dec;
#X msg 130 148 reload;
#X obj 13 172 ../Sources/saf.panning -size 200 -nsources 4 -nspeakers 8;
#X obj 283 375 dac~ 1, f 12;
#X msg 437 322 max-rE 1;
#X obj 282 268 else/saf.decoder~ -m;
#X connect 16 0 38 0;
#X connect 19 0 29 0;
#X connect 29 0 21 0;
#X connect 29 0 41 0;
#X connect 33 0 29 0;
#X connect 34 0 41 0;
#X connect 36 0 41 0;
#X connect 37 0 38 0;
#X connect 38 0 32 0;
#X connect 38 1 35 0;
#X connect 40 0 41 0;
#X connect 41 0 18 0;
#X connect 41 0 39 0;
